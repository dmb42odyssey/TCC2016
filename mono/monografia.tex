% Arquivo LaTeX de exemplo de monografia para a disciplina MAC0499
% 
% Adaptado em julho/2015 a partir do
%
% ---------------------------------------------------------------------------- %
% Arquivo LaTeX de exemplo de dissertação/tese a ser apresentados à CPG do IME-USP
%
% Versão 5: Sex Mar  9 18:05:40 BRT 2012
%
% Criação: Jesús P. Mena-Chalco
% Revisão: Fabio Kon e Paulo Feofiloff


\documentclass[12pt,twoside,a4paper]{book}


% ---------------------------------------------------------------------------- %
% Pacotes 
\usepackage[T1]{fontenc}
\usepackage[brazil]{babel}
\usepackage[latin1]{inputenc}
\usepackage[pdftex]{graphicx}           % usamos arquivos pdf/png como figuras
\usepackage{setspace}                   % espaçamento flexível
\usepackage{indentfirst}                % indentação do primeiro parágrafo
\usepackage{makeidx}                    % índice remissivo
\usepackage[nottoc]{tocbibind}          % acrescentamos a bibliografia/indice/conteudo no Table of Contents
\usepackage{courier}                    % usa o Adobe Courier no lugar de Computer Modern Typewriter
\usepackage{type1cm}                    % fontes realmente escaláveis
\usepackage{listings}                   % para formatar código-fonte (ex. em Java)
\usepackage{titletoc}
\usepackage{amssymb}
\usepackage{float}
\usepackage{siunitx}
%\usepackage[bf,small,compact]{titlesec} % cabeçalhos dos títulos: menores e compactos
\usepackage{threeparttable}
\usepackage[fixlanguage]{babelbib}
\usepackage[font=small,format=plain,labelfont=bf,up,textfont=it,up]{caption}
\usepackage[usenames,svgnames,dvipsnames]{xcolor}
\usepackage[a4paper,top=2.54cm,bottom=2.0cm,left=2.0cm,right=2.54cm]{geometry} % margens
%\usepackage[pdftex,plainpages=false,pdfpagelabels,pagebackref,colorlinks=true,citecolor=black,linkcolor=black,urlcolor=black,filecolor=black,bookmarksopen=true]{hyperref} % links em preto
\usepackage[pdftex,plainpages=false,pdfpagelabels,pagebackref,colorlinks=true,citecolor=DarkGreen,linkcolor=NavyBlue,urlcolor=DarkRed,filecolor=green,bookmarksopen=true]{hyperref} % links coloridos
\usepackage[all]{hypcap}                    % soluciona o problema com o hyperref e capitulos
\usepackage[square,sort,nonamebreak]{natbib} % citação bibliográfica textual(plainnat-ime.bst)
\usepackage{emptypage}  % para não colocar número de página em página vazia
\fontsize{60}{62}\usefont{OT1}{cmr}{m}{n}{\selectfont}

% ---------------------------------------------------------------------------- %
% Cabeçalhos similares ao TAOCP de Donald E. Knuth
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\chaptermark}[1]{\markboth{\MakeUppercase{#1}}{}}
\renewcommand{\sectionmark}[1]{\markright{\MakeUppercase{#1}}{}}
\renewcommand{\headrulewidth}{0pt}

% ---------------------------------------------------------------------------- %
\graphicspath{{./figuras/}}             % caminho das figuras (recomendável)
\frenchspacing                          % arruma o espaço: id est (i.e.) e exempli gratia (e.g.) 
\urlstyle{same}                         % URL com o mesmo estilo do texto e não mono-spaced
\makeindex                              % para o índice remissivo
\raggedbottom                           % para não permitir espaços extra no texto
\fontsize{60}{62}\usefont{OT1}{cmr}{m}{n}{\selectfont}
\cleardoublepage
\normalsize

% ---------------------------------------------------------------------------- %
% Opções de listing usados para o código fonte
% Ref: http://en.wikibooks.org/wiki/LaTeX/Packages/Listings
\lstset{ %
language=Java,                  % choose the language of the code
basicstyle=\footnotesize,       % the size of the fonts that are used for the code
numbers=left,                   % where to put the line-numbers
numberstyle=\footnotesize,      % the size of the fonts that are used for the line-numbers
stepnumber=1,                   % the step between two line-numbers. If it's 1 each line will be numbered
numbersep=5pt,                  % how far the line-numbers are from the code
showspaces=false,               % show spaces adding particular underscores
showstringspaces=false,         % underline spaces within strings
showtabs=false,                 % show tabs within strings adding particular underscores
frame=single,	                % adds a frame around the code
framerule=0.6pt,
tabsize=2,	                    % sets default tabsize to 2 spaces
captionpos=b,                   % sets the caption-position to bottom
breaklines=true,                % sets automatic line breaking
breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
escapeinside={\%*}{*)},         % if you want to add a comment within your code
backgroundcolor=\color[rgb]{1.0,1.0,1.0}, % choose the background color.
rulecolor=\color[rgb]{0.8,0.8,0.8},
extendedchars=true,
xleftmargin=10pt,
xrightmargin=10pt,
framexleftmargin=10pt,
framexrightmargin=10pt
}

% ---------------------------------------------------------------------------- %
% Corpo do texto
\begin{document}

\frontmatter 
% cabeçalho para as páginas das seções anteriores ao capítulo 1 (frontmatter)
\fancyhead[RO]{{\footnotesize\rightmark}\hspace{2em}\thepage}
\setcounter{tocdepth}{2}
\fancyhead[LE]{\thepage\hspace{2em}\footnotesize{\leftmark}}
\fancyhead[RE,LO]{}
\fancyhead[RO]{{\footnotesize\rightmark}\hspace{2em}\thepage}

\onehalfspacing  % espaçamento

% ---------------------------------------------------------------------------- %
% CAPA
\thispagestyle{empty}
\begin{center}
    \vspace*{2.3cm}
    Universidade de São Paulo\\
    Instituto de Matemática e Estatística\\
    Bacharelado em Ciência da Computação


    \vspace*{3cm}
    \Large{Diego Martos Buoro}
    

    \vspace{3cm}
    \textbf{\Large{QASP - Estimativa da qualidade do ar na\\ cidade de São Paulo }}
    
       
    \vskip 5cm
    \normalsize{São Paulo}

    \normalsize{Novembro de 2016}
\end{center}

% ---------------------------------------------------------------------------- %
% Página de rosto
%
\newpage
\thispagestyle{empty}
    \begin{center}
        \vspace*{2.3 cm}
        \textbf{\Large{QASP - Estimativa da qualidade do ar na\\ cidade de São Paulo}}
        \vspace*{2 cm}
    \end{center}

    \vskip 2cm

    \begin{flushright}
	Monografia final da disciplina \\
        MAC0499 -- Trabalho de Formatura Supervisionado.
    \end{flushright}

    \vskip 5cm

    \begin{center}
    Supervisor: Prof. Dr. Alfredo Goldman vel Lejbman\\
    Cosupervisor: Prof. Dr. Rômulo Cássio de Moraes Bertuzzi 

    \vskip 5cm
    \normalsize{São Paulo}

    \normalsize{Novembro de 2016}
    \end{center}
\pagebreak




\pagenumbering{roman}     % começamos a numerar 

%% % ---------------------------------------------------------------------------- %
%% % Agradecimentos:
%% % Se o candidato não quer fazer agradecimentos, deve simplesmente eliminar esta página 
%% \chapter*{Agradecimentos}
%% Texto texto texto texto texto texto texto texto texto texto texto texto texto
%% texto texto texto texto texto texto texto texto texto texto texto texto texto
%% texto texto texto texto texto texto texto texto texto texto texto texto texto
%% texto texto texto texto. Texto opcional.



% ---------------------------------------------------------------------------- %
% Resumo
\chapter*{Resumo}

%INTRO
%OBJETIVO 
% VER ORDEM DE ESTRUTURA

A poluição do ambiente externo é um problema presente e invisível ao dia a dia das pessoas, mas poucas sabem que está associado à mortalidade. Estima-se que em torno de 68 mil pessoas foram internadas em todo o estado e que anualmente, 4,6 mil pessoas são vítimas fatais em decorrência do ar poluído apenas na cidade de São Paulo~\cite{EXAME2014}. Apesar de informações fornecidas por organizações de saúde ou agências de controle ambiental para a preservação de saúde em razão da poluição, o acesso a elas ainda é um grande obstáculo para o cidadão. Além disso, as estações de monitoramento na cidade mostram a qualidade do ar em uma área limitada, e na maioria dos casos distante do local do indivíduo, e, portanto há dúvidas no valor a ser utilizado com segurança. Diante das dificuldades expostas, este trabalho tem como objetivo apresentar na forma de um aplicativo, informações relacionadas às estações de monitoramento de maneira clara e obter a qualidade do ar no local do usuário, informando eventuais sugestões para a preservação de sua saúde. O aplicativo, nomeado de QASP (Qualidade do Ar de São Paulo), foi criado para a arquitetura Android, e suporta versões do sistema de codinome \textit{JellyBean} e mais recentes (4.1 ou mais). A localização do usuário é obtida através do GPS. Utilizando o método do Inverso das Potências, é possível estimar a qualidade do ar no local do usuário com os dados das estações. O arquivo que contém os dados é constantemente atualizado em um servidor remoto por um programa que contém duas rotinas escritas em Pyhton. A primeira rotina consiste em fazer uma navegação automatizada para as páginas das estações, extraindo os dados através de um \textit{parser}. Em seguida, a segunda tarefa realiza a transferência do arquivo atualizado para o servidor através de um protocolo de transferência de dados. Finalmente, o aplicativo requisita o arquivo de dados existente no servidor.
\\

\noindent \textbf{Palavras-chave:} Aplicativo, Android, Qualidade do Ar, Cidade de São Paulo, GPS, 

% ---------------------------------------------------------------------------- %
% Abstract
\chapter*{Abstract}

External air pollution is a present and invisible problem to the daily lives of people, but few know that is associated with mortality. It is estimated that around 68k people were hospitalized throughout the state and that each year, 4,6k people are fatal victims of the polluted air only in the city of São Paulo~\cite{EXAME2014}. Although there is information for health preservation of air pollution from health organizations or environmental control agencies, their access is still a major obstacle to the citizen.  Moreover, the monitoring stations of the city show air quality in a limited area and in most cases, there is a certain distance from the location of the individual, and hence there is doubt in the value to be used. Given the difficulties presented, this work aims at presenting in the form of an application, informations related to monitoring stations clearly and get the air quality at the user site, informing any measures to preserve their health. The application, named QASP (Qualidade de Ar de São Paulo), was created for the Android architecture, and supports versions of codename system \textit{JellyBean} or later (4.1 or more). The user's location is obtained by GPS, and using the method Inverse Distance Weighting, you can get the air quality at the user site with data from working stations. The file containing the data is constantly updated on a remote server from a program that contains two routines written in Python. The first routine is to make an automated navigation to pages of the air monitoring stations, extracting the data through a parser. Then, the second task performs the transfer of the updated file to the server via a data transfer protocol. 
\\

\noindent \textbf{Keywords:} App, Android, Air Quality, City of São Paulo, GPS.


% ---------------------------------------------------------------------------- %
% Sumário
\tableofcontents    % imprime o sumário




%% % ---------------------------------------------------------------------------- %
 \chapter{Lista de Abreviaturas}
\begin{tabular}{ll}
	OMS         & Organização Mundial da Saúde(\emph{World Health Organization})\\
         IDW         & Método do Inverso das Potências das Distâncias(\emph{Inverse Distance Weighting})\\
         FTP        & Protocolo de Transferência de Arquivos(\emph{File Transfer Protocol})\\
         HTML        & Linguagem de Marcação de Hipertexto(\emph{HyperText Markup Language})\\
         GPS 	& Sistema de Posicionamento Global(\emph{Global Positioning System})\\
         JDK		& Kit de Desenvolvimento Java(\emph{Java Development Kit})\\
         IDE	& Ambiente de Desenvolvimento Integrado(\emph{Integrated Development Enveironment})\\
         SO		& Sistema Operacional(\emph{Operational System})\\
         URL       & Localizador Uniforme de Recursos(\emph{Uniform Resource Locator})\\
         PM 		&  Material Particulado(\emph{Particulate Matter})\\
         ODM       & OpenDustMap\\
         CETESB       & Companhia de Tecnologia e Saneamento Ambiental\\
         RMSP       & Região Metropolitana de São Paulo\\
         QASP      & Qualidade do Ar de São Paulo
\end{tabular}

%% % ---------------------------------------------------------------------------- %
%% \chapter{Lista de Símbolos}
%% \begin{tabular}{ll}
%%         $\omega$    & Frequência angular\\
%%         $\psi$      & Função de análise \emph{wavelet}\\
%%         $\Psi$      & Transformada de Fourier de $\psi$\\
%% \end{tabular}

%% % ---------------------------------------------------------------------------- %
%% % Listas de figuras e tabelas criadas automaticamente
\listoffigures            
\listoftables            



% ---------------------------------------------------------------------------- %
% Capítulos do trabalho
\mainmatter

% cabeçalho para as páginas de todos os capítulos
\fancyhead[RE,LO]{\thesection}

\singlespacing              % espaçamento simples
%\onehalfspacing            % espaçamento um e meio

\input cap-introducao        % associado ao arquivo: 'cap-introducao.tex'https://developer.android.com/
\input cap-desenvolvimentos  % associado ao arquivo: 'cap-desenvolvimento.tex'
\input cap-conclusoes        % associado ao arquivo: 'cap-conclusoes.tex'

% cabeçalho para os apêndices
\renewcommand{\chaptermark}[1]{\markboth{\MakeUppercase{\appendixname\ \thechapter}} {\MakeUppercase{#1}} }
\fancyhead[RE,LO]{}
\appendix

\include{ape-exemplo}      % associado ao arquivo: 'ape-conjuntos.MarshmallowMarshmallowMarshmallowtex'


% ---------------------------------------------------------------------------- %
% Bibliografia
\backmatter \singlespacing   % espaçamento simples
\bibliographystyle{plainnat-ime} % citação bibliográfica textual
\bibliography{bibliografia}  % associado ao arquivo: 'bibliografia.bib'


%%%  ---------------------------------------------------------------------------- %
%% % Índice remissivo
%% \index{TBP|see{periodicidade região codificante}}
%% \index{DSP|see{processamento digital de sinais}}
%% \index{STFT|see{transformada de Fourier de tempo reduzido}}
%% \index{DFT|see{transformada discreta de Fourier}}
%% \index{Fourier!transformada|see{transformada de Fourier}}

%% \printindex   % imprime o índice remissivo no documento 

\end{document}
